<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calendario - EBI</title>

  <link rel="stylesheet" href="/css/calendar.css" />
</head>
<body>
  <div class="container">
    <header class="topbar">
      <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;">
        <h1>ğŸ“… Calendario de Turnos</h1>
        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <a class="btn" href="/tabla.html">â—€ Volver</a>
          <!-- BotÃ³n de descarga JPG (visible para todos) -->
          <button id="btnDownloadJPG" class="btn btn-download" style="background:#e67e22;color:white;">
            ğŸ“· Descargar JPG
          </button>
          <!-- BotÃ³n de pausa/reanudaciÃ³n (solo admin) -->
          <button id="btnTogglePause" class="btn btn-pause" style="background:#f39c12;color:white;display:none;">
            â¸ï¸ Pausar actualizaciones
          </button>
          <button id="btnRefresh" class="btn" style="background:#6c5ce7;color:white;">ğŸ”„ Actualizar ahora</button>
        </div>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;margin-top:10px;">
        <div id="last-update" class="last-update">Ãšltima actualizaciÃ³n: â€”</div>
        <div id="auto-update-status" class="auto-update-status" style="display:none;">
          ğŸŸ¢ Actualizaciones automÃ¡ticas activas
        </div>
      </div>
    </header>

    <main id="main" class="container-main">
      <p class="lead">El calendario muestra los turnos cargados en la base de datos. <span id="update-info">Se actualiza automÃ¡ticamente cada 15 segundos.</span></p>
      
      <!-- Contenedor que se capturarÃ¡ como imagen -->
      <div id="calendar-capture-area">
        <div id="calendar-container"></div>
      </div>
    </main>
  </div>

  <!-- LibrerÃ­a html2canvas desde CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="/js/calendar.js"></script>
</body>
</html>
